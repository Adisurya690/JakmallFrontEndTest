{"ast":null,"code":"var __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __objRest = (source, exclude) => {\n  var target = {};\n\n  for (var prop in source) if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0) target[prop] = source[prop];\n\n  if (source != null && __getOwnPropSymbols) for (var prop of __getOwnPropSymbols(source)) {\n    if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop)) target[prop] = source[prop];\n  }\n  return target;\n}; // src/index.tsx\n\n\nimport { useEffect } from \"react\";\n\nvar useFormPersist = (name, _ref) => {\n  let {\n    storage,\n    watch,\n    setValue,\n    exclude = [],\n    onDataRestored,\n    validate = false,\n    dirty = false,\n    onTimeout,\n    timeout\n  } = _ref;\n  const watchedValues = watch();\n\n  const getStorage = () => storage || window.sessionStorage;\n\n  const clearStorage = () => getStorage().removeItem(name);\n\n  useEffect(() => {\n    const str = getStorage().getItem(name);\n\n    if (str) {\n      const _a = JSON.parse(str),\n            {\n        _timestamp = null\n      } = _a,\n            values = __objRest(_a, [\"_timestamp\"]);\n\n      const dataRestored = {};\n      const currTimestamp = Date.now();\n\n      if (timeout && currTimestamp - _timestamp > timeout) {\n        onTimeout && onTimeout();\n        clearStorage();\n        return;\n      }\n\n      Object.keys(values).forEach(key => {\n        const shouldSet = !exclude.includes(key);\n\n        if (shouldSet) {\n          dataRestored[key] = values[key];\n          setValue(key, values[key], {\n            shouldValidate: validate,\n            shouldDirty: dirty\n          });\n        }\n      });\n\n      if (onDataRestored) {\n        onDataRestored(dataRestored);\n      }\n    }\n  }, [storage, name, onDataRestored, setValue]);\n  useEffect(() => {\n    const values = exclude.length ? Object.entries(watchedValues).filter(_ref2 => {\n      let [key] = _ref2;\n      return !exclude.includes(key);\n    }).reduce((obj, _ref3) => {\n      let [key, val] = _ref3;\n      return Object.assign(obj, {\n        [key]: val\n      });\n    }, {}) : Object.assign({}, watchedValues);\n\n    if (Object.entries(values).length) {\n      if (timeout !== void 0) {\n        values._timestamp = Date.now();\n      }\n\n      getStorage().setItem(name, JSON.stringify(values));\n    }\n  }, [watchedValues, timeout]);\n  return {\n    clear: () => getStorage().removeItem(name)\n  };\n};\n\nvar src_default = useFormPersist;\nexport { src_default as default };","map":{"version":3,"names":["__getOwnPropSymbols","Object","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__objRest","source","exclude","target","prop","call","indexOf","useEffect","useFormPersist","name","storage","watch","setValue","onDataRestored","validate","dirty","onTimeout","timeout","watchedValues","getStorage","window","sessionStorage","clearStorage","removeItem","str","getItem","_a","JSON","parse","_timestamp","values","dataRestored","currTimestamp","Date","now","keys","forEach","key","shouldSet","includes","shouldValidate","shouldDirty","length","entries","filter","reduce","obj","val","assign","setItem","stringify","clear","src_default","default"],"sources":["C:/Users/Adisu/OneDrive/Dokumen/Fredy-Jackmall-test-FE-master/node_modules/react-hook-form-persist/dist/index.mjs"],"sourcesContent":["var __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\n// src/index.tsx\nimport { useEffect } from \"react\";\nvar useFormPersist = (name, {\n  storage,\n  watch,\n  setValue,\n  exclude = [],\n  onDataRestored,\n  validate = false,\n  dirty = false,\n  onTimeout,\n  timeout\n}) => {\n  const watchedValues = watch();\n  const getStorage = () => storage || window.sessionStorage;\n  const clearStorage = () => getStorage().removeItem(name);\n  useEffect(() => {\n    const str = getStorage().getItem(name);\n    if (str) {\n      const _a = JSON.parse(str), { _timestamp = null } = _a, values = __objRest(_a, [\"_timestamp\"]);\n      const dataRestored = {};\n      const currTimestamp = Date.now();\n      if (timeout && currTimestamp - _timestamp > timeout) {\n        onTimeout && onTimeout();\n        clearStorage();\n        return;\n      }\n      Object.keys(values).forEach((key) => {\n        const shouldSet = !exclude.includes(key);\n        if (shouldSet) {\n          dataRestored[key] = values[key];\n          setValue(key, values[key], {\n            shouldValidate: validate,\n            shouldDirty: dirty\n          });\n        }\n      });\n      if (onDataRestored) {\n        onDataRestored(dataRestored);\n      }\n    }\n  }, [\n    storage,\n    name,\n    onDataRestored,\n    setValue\n  ]);\n  useEffect(() => {\n    const values = exclude.length ? Object.entries(watchedValues).filter(([key]) => !exclude.includes(key)).reduce((obj, [key, val]) => Object.assign(obj, { [key]: val }), {}) : Object.assign({}, watchedValues);\n    if (Object.entries(values).length) {\n      if (timeout !== void 0) {\n        values._timestamp = Date.now();\n      }\n      getStorage().setItem(name, JSON.stringify(values));\n    }\n  }, [watchedValues, timeout]);\n  return {\n    clear: () => getStorage().removeItem(name)\n  };\n};\nvar src_default = useFormPersist;\nexport {\n  src_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}